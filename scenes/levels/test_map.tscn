[gd_scene load_steps=9 format=4 uid="uid://yex0wyy4t8ed"]

[ext_resource type="Script" path="res://scenes/levels/test_map.gd" id="1_8p1n1"]
[ext_resource type="Texture2D" uid="uid://i4semeikqxce" path="res://assets/mapPack_tilesheet.png" id="1_sp4mq"]
[ext_resource type="PackedScene" uid="uid://cka1bkkxovgvg" path="res://scenes/map_features/crystal.tscn" id="2_8t7wh"]
[ext_resource type="PackedScene" uid="uid://cet1qjpxrsuw0" path="res://scenes/systems/ExpansionNode.tscn" id="4_fj8ed"]
[ext_resource type="PackedScene" uid="uid://25h1q17pgl7u" path="res://scenes/systems/building_slot.tscn" id="5_c0lxb"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_ry30h"]
vertices = PackedVector2Array(1008, 143, 1044.95, 106.977, 1043.05, 513, 1008, 453, 1004.78, 441, 1004.78, 155, 996, 163.781, 996, 432.219, 1004.78, 465, 1004.78, 131, 984, 167, 984, 429, 996, 473.781, 996, 122.219, 171, 143, 963.219, 131, 960, 143, 167.781, 155, 167.781, 131, 972, 122.219, 963.219, 155, 159, 163.781, 972, 163.781, 972, 432.219, 171, 453, 963.219, 441, 960, 453, 167.781, 465, 167.781, 441, 963.219, 465, 159, 473.781, 984, 477, 106, 513, 972, 473.781, 147, 477, 159, 122.219, 984, 119, 159, 432.219, 147, 167, 147, 429, 135, 163.781, 135, 432.219, 126.219, 155, 126.219, 441, 106, 106.008, 123, 143, 135, 473.781, 126.219, 465, 123, 453, 126.219, 131, 135, 122.219, 147, 119)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 5, 4, 7), PackedInt32Array(8, 3, 2), PackedInt32Array(1, 0, 9), PackedInt32Array(10, 6, 7, 11), PackedInt32Array(12, 8, 2), PackedInt32Array(1, 9, 13), PackedInt32Array(14, 15, 16, 17), PackedInt32Array(15, 14, 18, 19), PackedInt32Array(17, 16, 20, 21), PackedInt32Array(22, 10, 11, 23, 21), PackedInt32Array(24, 25, 26, 27), PackedInt32Array(25, 24, 28, 21, 23), PackedInt32Array(27, 26, 29, 30), PackedInt32Array(31, 12, 2), PackedInt32Array(31, 2, 32, 33), PackedInt32Array(30, 29, 33, 32, 34), PackedInt32Array(19, 18, 35, 36), PackedInt32Array(21, 20, 22), PackedInt32Array(21, 28, 37, 38), PackedInt32Array(38, 37, 39, 40), PackedInt32Array(40, 39, 41, 42), PackedInt32Array(42, 41, 43, 44, 45), PackedInt32Array(46, 34, 32), PackedInt32Array(47, 46, 32), PackedInt32Array(48, 47, 32), PackedInt32Array(48, 32, 44, 43), PackedInt32Array(49, 45, 44), PackedInt32Array(50, 49, 44), PackedInt32Array(51, 50, 44), PackedInt32Array(35, 51, 44, 1, 36), PackedInt32Array(1, 13, 36)])
outlines = Array[PackedVector2Array]([PackedVector2Array(96, 96, 1055, 97, 1053, 523, 96, 523)])
parsed_collision_mask = 4294967294

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ntxh5"]
texture = ExtResource("1_sp4mq")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:1/0 = 0
2:1/0 = 0
5:3/0 = 0
6:3/0 = 0
7:4/0 = 0
8:4/0 = 0
9:5/0 = 0
10:5/0 = 0
11:6/0 = 0
12:6/0 = 0
12:7/0 = 0
0:1/0 = 0
0:2/0 = 0
0:3/0 = 0
0:4/0 = 0
0:5/0 = 0
0:6/0 = 0
0:7/0 = 0
1:0/0 = 0
1:2/0 = 0
1:3/0 = 0
1:4/0 = 0
1:5/0 = 0
1:6/0 = 0
1:7/0 = 0
2:0/0 = 0
2:2/0 = 0
2:3/0 = 0
2:4/0 = 0
2:5/0 = 0
2:6/0 = 0
2:7/0 = 0
3:0/0 = 0
3:1/0 = 0
3:4/0 = 0
3:5/0 = 0
4:0/0 = 0
4:1/0 = 0
4:4/0 = 0
4:5/0 = 0
5:0/0 = 0
5:1/0 = 0
5:2/0 = 0
5:4/0 = 0
5:5/0 = 0
5:6/0 = 0
5:7/0 = 0
6:0/0 = 0
6:1/0 = 0
6:2/0 = 0
6:4/0 = 0
6:5/0 = 0
6:6/0 = 0
6:7/0 = 0
7:0/0 = 0
7:1/0 = 0
7:2/0 = 0
7:3/0 = 0
7:5/0 = 0
7:6/0 = 0
7:7/0 = 0
8:0/0 = 0
8:1/0 = 0
8:5/0 = 0
9:0/0 = 0
9:1/0 = 0
9:4/0 = 0
10:0/0 = 0
10:0/0/terrain_set = 0
10:0/0/terrains_peering_bit/right_side = 0
10:0/0/terrains_peering_bit/bottom_side = 0
10:1/0 = 0
10:1/0/terrain_set = 0
10:1/0/terrains_peering_bit/right_side = 0
10:1/0/terrains_peering_bit/bottom_side = 0
10:1/0/terrains_peering_bit/top_side = 0
10:2/0 = 0
10:2/0/terrain_set = 0
10:2/0/terrains_peering_bit/right_side = 0
10:2/0/terrains_peering_bit/top_side = 0
10:3/0 = 0
10:4/0 = 0
10:6/0 = 0
10:7/0 = 0
11:0/0 = 0
11:0/0/terrain_set = 0
11:0/0/terrains_peering_bit/right_side = 0
11:0/0/terrains_peering_bit/bottom_side = 0
11:0/0/terrains_peering_bit/left_side = 0
11:1/0 = 0
11:1/0/terrain_set = 0
11:1/0/terrains_peering_bit/right_side = 0
11:1/0/terrains_peering_bit/bottom_side = 0
11:1/0/terrains_peering_bit/left_side = 0
11:1/0/terrains_peering_bit/top_side = 0
11:1/0/custom_data_0 = true
11:2/0 = 0
11:2/0/terrain_set = 0
11:2/0/terrains_peering_bit/right_side = 0
11:2/0/terrains_peering_bit/left_side = 0
11:2/0/terrains_peering_bit/top_side = 0
11:3/0 = 0
11:4/0 = 0
11:5/0 = 0
11:7/0 = 0
12:0/0 = 0
12:0/0/terrain_set = 0
12:0/0/terrains_peering_bit/bottom_side = 0
12:0/0/terrains_peering_bit/left_side = 0
12:1/0 = 0
12:1/0/terrain_set = 0
12:1/0/terrains_peering_bit/bottom_side = 0
12:1/0/terrains_peering_bit/left_side = 0
12:1/0/terrains_peering_bit/top_side = 0
12:2/0 = 0
12:2/0/terrain_set = 0
12:2/0/terrains_peering_bit/left_side = 0
12:2/0/terrains_peering_bit/top_side = 0
12:3/0 = 0
12:4/0 = 0
12:5/0 = 0
13:0/0 = 0
13:1/0 = 0
13:4/0 = 0
13:5/0 = 0
14:0/0 = 0
14:1/0 = 0
14:4/0 = 0
14:5/0 = 0

[sub_resource type="TileSet" id="TileSet_rm1wn"]
tile_size = Vector2i(64, 64)
terrain_set_0/mode = 2
terrain_set_0/terrain_0/name = "Terrain 0"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
custom_data_layer_0/name = "is_buildable"
custom_data_layer_0/type = 1
sources/0 = SubResource("TileSetAtlasSource_ntxh5")

[node name="TestMap" type="NavigationRegion2D" groups=["nav_region"]]
navigation_polygon = SubResource("NavigationPolygon_ry30h")
script = ExtResource("1_8p1n1")

[node name="Map" type="TileMapLayer" parent="."]
position = Vector2(0, 1)
tile_map_data = PackedByteArray("AAACAAEAAAALAAAAAAACAAIAAAALAAEAAAABAAIAAAAKAAEAAAABAAEAAAAKAAAAAAADAAIAAAALAAEAAAADAAEAAAALAAAAAAACAAMAAAALAAEAAAADAAMAAAALAAEAAAACAAQAAAALAAEAAAADAAQAAAALAAEAAAABAAcAAAAKAAEAAAABAAYAAAAKAAEAAAACAAYAAAALAAEAAAACAAcAAAALAAEAAAACAAUAAAALAAEAAAABAAUAAAAKAAEAAAADAAUAAAALAAEAAAADAAYAAAALAAEAAAADAAcAAAALAAEAAAADAAgAAAALAAIAAAAQAAgAAAAMAAIAAAAQAAcAAAAMAAEAAAAQAAYAAAAMAAEAAAAQAAUAAAAMAAEAAAAQAAQAAAAMAAEAAAAQAAMAAAAMAAEAAAAQAAIAAAAMAAEAAAAQAAEAAAAMAAAAAAAPAAgAAAALAAIAAAAPAAcAAAALAAEAAAAPAAYAAAALAAEAAAAPAAUAAAALAAEAAAAPAAQAAAALAAEAAAAPAAMAAAALAAEAAAAPAAIAAAALAAEAAAAPAAEAAAALAAAAAAAOAAgAAAALAAIAAAAOAAcAAAALAAEAAAAOAAYAAAALAAEAAAAOAAUAAAALAAEAAAAOAAQAAAALAAEAAAAOAAMAAAALAAEAAAAOAAIAAAALAAEAAAAOAAEAAAALAAAAAAANAAgAAAALAAIAAAANAAcAAAALAAEAAAANAAYAAAALAAEAAAANAAUAAAALAAEAAAANAAQAAAALAAEAAAANAAMAAAALAAEAAAANAAIAAAALAAEAAAANAAEAAAALAAAAAAAMAAgAAAALAAIAAAAMAAcAAAALAAEAAAAMAAYAAAALAAEAAAAMAAUAAAALAAEAAAAMAAQAAAALAAEAAAAMAAMAAAALAAEAAAAMAAIAAAALAAEAAAAMAAEAAAALAAAAAAALAAgAAAALAAIAAAALAAcAAAALAAEAAAALAAYAAAALAAEAAAALAAUAAAALAAEAAAALAAQAAAALAAEAAAALAAMAAAALAAEAAAALAAIAAAALAAEAAAALAAEAAAALAAAAAAAKAAgAAAALAAIAAAAKAAcAAAALAAEAAAAKAAYAAAALAAEAAAAKAAUAAAALAAEAAAAKAAQAAAALAAEAAAAKAAMAAAALAAEAAAAKAAIAAAALAAEAAAAKAAEAAAALAAAAAAAJAAgAAAALAAIAAAAJAAcAAAALAAEAAAAJAAYAAAALAAEAAAAJAAUAAAALAAEAAAAJAAQAAAALAAEAAAAJAAMAAAALAAEAAAAJAAIAAAALAAEAAAAJAAEAAAALAAAAAAAIAAgAAAALAAIAAAAIAAcAAAALAAEAAAAIAAYAAAALAAEAAAAIAAUAAAALAAEAAAAIAAQAAAALAAEAAAAIAAMAAAALAAEAAAAIAAIAAAALAAEAAAAIAAEAAAALAAAAAAAHAAgAAAALAAIAAAAHAAcAAAALAAEAAAAHAAYAAAALAAEAAAAHAAUAAAALAAEAAAAHAAQAAAALAAEAAAAHAAMAAAALAAEAAAAHAAIAAAALAAEAAAAHAAEAAAALAAAAAAAGAAgAAAALAAIAAAAGAAcAAAALAAEAAAAGAAYAAAALAAEAAAAGAAUAAAALAAEAAAAGAAQAAAALAAEAAAAGAAMAAAALAAEAAAAGAAIAAAALAAEAAAAGAAEAAAALAAAAAAAFAAgAAAALAAIAAAAFAAcAAAALAAEAAAAFAAYAAAALAAEAAAAFAAUAAAALAAEAAAAFAAQAAAALAAEAAAAFAAMAAAALAAEAAAAFAAIAAAALAAEAAAAFAAEAAAALAAAAAAAEAAgAAAALAAIAAAAEAAcAAAALAAEAAAAEAAYAAAALAAEAAAAEAAUAAAALAAEAAAAEAAQAAAALAAEAAAAEAAMAAAALAAEAAAAEAAIAAAALAAEAAAAEAAEAAAALAAAAAAABAAQAAAAKAAEAAAABAAMAAAAKAAEAAAACAAgAAAALAAIAAAABAAgAAAAKAAIAAAA=")
tile_set = SubResource("TileSet_rm1wn")

[node name="ExpansionNode" parent="." node_paths=PackedStringArray("connected_nodes", "crystals", "slots") instance=ExtResource("4_fj8ed")]
position = Vector2(223, 203)
connected_nodes = [NodePath("../ExpansionNode4"), NodePath("../ExpansionNode5")]
crystals = [NodePath("Crystal"), NodePath("Crystal2"), NodePath("Crystal3")]
slots = [NodePath("BuildingSlot"), NodePath("BuildingSlot2"), NodePath("BuildingSlot3")]
player_start_index = 0

[node name="Crystal" parent="ExpansionNode" instance=ExtResource("2_8t7wh")]
position = Vector2(-76, -60)

[node name="BuildingSlot" parent="ExpansionNode" instance=ExtResource("5_c0lxb")]
position = Vector2(0, 66)

[node name="BuildingSlot2" parent="ExpansionNode" instance=ExtResource("5_c0lxb")]
position = Vector2(-73, 8)

[node name="Crystal2" parent="ExpansionNode" instance=ExtResource("2_8t7wh")]
position = Vector2(-4, -68)

[node name="Crystal3" parent="ExpansionNode" instance=ExtResource("2_8t7wh")]
position = Vector2(63, -59)

[node name="BuildingSlot3" parent="ExpansionNode" instance=ExtResource("5_c0lxb")]
position = Vector2(68, 8)

[node name="ExpansionNode2" parent="." node_paths=PackedStringArray("connected_nodes", "crystals") instance=ExtResource("4_fj8ed")]
position = Vector2(912, 419)
connected_nodes = [NodePath("../ExpansionNode3"), NodePath("../ExpansionNode5")]
crystals = [NodePath("Crystal2"), NodePath("Crystal3"), NodePath("Crystal4")]
player_start_index = 1

[node name="Crystal2" parent="ExpansionNode2" instance=ExtResource("2_8t7wh")]
position = Vector2(72, 34)

[node name="Crystal3" parent="ExpansionNode2" instance=ExtResource("2_8t7wh")]
position = Vector2(0, 71)

[node name="Crystal4" parent="ExpansionNode2" instance=ExtResource("2_8t7wh")]
position = Vector2(-71, 47)

[node name="ExpansionNode3" parent="." node_paths=PackedStringArray("connected_nodes", "crystals") instance=ExtResource("4_fj8ed")]
position = Vector2(892, 201)
connected_nodes = [NodePath("../ExpansionNode4"), NodePath("../ExpansionNode5")]
crystals = [NodePath("Crystal3")]
player_start_index = 2

[node name="Crystal3" parent="ExpansionNode3" instance=ExtResource("2_8t7wh")]
position = Vector2(92, -58)

[node name="ExpansionNode4" parent="." node_paths=PackedStringArray("connected_nodes", "crystals") instance=ExtResource("4_fj8ed")]
position = Vector2(211, 419)
connected_nodes = [NodePath("../ExpansionNode"), NodePath("../ExpansionNode5")]
crystals = [NodePath("Crystal4")]
player_start_index = 3

[node name="Crystal4" parent="ExpansionNode4" instance=ExtResource("2_8t7wh")]
position = Vector2(-64, 34)

[node name="ExpansionNode5" parent="." node_paths=PackedStringArray("connected_nodes") instance=ExtResource("4_fj8ed")]
position = Vector2(501, 298)
connected_nodes = [NodePath("../ExpansionNode2"), NodePath("../ExpansionNode3"), NodePath("../ExpansionNode4"), NodePath("../ExpansionNode")]
